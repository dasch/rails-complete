#!/usr/bin/env ruby

COMMANDS = %w(server generate destroy plugin benchmarker profiler
              console dbconsole application runner new)

def complete(string)
  string = string.chomp

  COMMANDS.select {|cmd| cmd[0, string.length] == string }
end

comp_line = ENV["COMP_LINE"]
exit -1 if comp_line.nil?

parts = comp_line.scan(/\w+/)

prefix = parts[1] || ""

puts complete(prefix)
